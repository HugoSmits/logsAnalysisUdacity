# My Logs Analysis

## Description

#### The following source code will answer the next 3 questions:

- ##### What are the most popular three articles of all time? Which articles have been accessed the most? Present this information as a sorted list with the most popular article at the top.
- ##### Who are the most popular article authors of all time? That is, when you sum up all of the articles each author has written, which authors get the most page views? Present this as a sorted list with the most popular author at the top.
- ##### On which days did more than 1% of requests lead to errors? The log table includes a column status that indicates the HTTP status code that the news site sent to the user's browser. 

## Usage

##### The following source code is written according to [PEP8 guidelines](https://www.python.org/dev/peps/pep-0008/).


## Output example

##### An example of the output generated by the source code can be find in **_Output.txt_**

## Views created

##### A view is a fixed select that has been saved.
##### The following views were used:

- #### Ex1
  - ##### SortedArticlesTitleForViews : select articles.author , articles.title, articles.slug , log.path from articles , log where log.path LIKE concat('%' , articles.slug); 
    - ##### CREATE VIEW SortedArticlesForViews AS select articles.author , articles.title, articles.slug , log.path from articles , log where log.path LIKE concat('%' , articles.slug);
  - ##### SubTotalViewsTitle : select author , title, slug , count(author) as subTotal from SortedArticlesTitleForViews group by author , title , slug;
    - ##### CREATE VIEW SubTotalTitleView AS select author , title , slug , count(author) as subTotal from SortedArticlesTitleForViews group by author ,title, slug;
    - ##### DEPENDENCY SortedArticlesForViews
- #### Ex2
  - ##### SortedArticlesForViews : select articles.author , articles.slug , log.path from articles , log where log.path LIKE concat('%' , articles.slug); 
    - ##### CREATE VIEW SortedArticlesForViews AS select articles.author , articles.slug , log.path from articles , log where log.path LIKE concat('%' , articles.slug);
  - ##### SubTotalViews : select author , slug , count(author) as subTotal from SortedArticlesForViews group by author , slug;
    - ##### CREATE VIEW SubTotalViews AS select author , slug , count(author) as subTotal from SortedArticlesForViews group by author , slug;
    - ##### DEPENDENCY : SortedArticlesForViews
  - ##### AuthorViews : select authors.name , SubTotalViews.slug , SubTotalViews.subtotal from SubTotalViews , authors where SubTotal Views.author = authors.id order by SubTotalViews.author;
    - ##### CREATE VIEW  AuthorViews AS select authors.name , SubTotalViews.slug , SubTotalViews.subtotal from SubTotalViews , authors where SubTotalViews.author = authors.id order by SubTotalViews.author;
    - ##### DEPENDENCY SubTotalViews

- #### Ex3
  - ##### Statistics : select date_trunc('day', time) as day, count(*) as Total , count(case status when '200 OK' then 1 end) as noErrorStatusTotal, count(*) filter (where status != '200 OK') as ErrorStatusTotal from log group by day;
    - ##### CREATE VIEW Statistics AS select date_trunc('day', time) as day, count(*) as Total , count(case status when '200 OK' then 1 end) as noErrorStatusTotal, count(*) filter (where status != '200 OK') as ErrorStatusTotal from log group by day;
  - ##### StatisticsPercentage : select * , ( (errorstatustotal / cast(total as float) ) * 100) as errorpercentage from Statistics;
    - ##### CREATE VIEW StatisticsPercentage AS select * , ( (errorstatustotal / cast(total as float) ) * 100) as errorpercentage from Statistics;
    - ##### DEPENDENCY: Statistics

## Execute Selects 

- ##### Ex1: select title , subtotal from SubTotalTitleView order by subtotal DESC; 
- ##### Ex2: select name , sum(subtotal) as Total from AuthorViews group by 1 order by 2 DESC;
- ##### Ex3: select day , errorpercentage from StatisticsPercentage where errorpercentage > 1; 

## Contribuition

##### To contribuite to this project the person must follow the guidelines mentioned in **Usage** and send a written email to the moderator of the source code hugo.smits1995@gmail.com 

## Licensing info

##### The following project uses the [MIT license](https://opensource.org/licenses/MIT) 